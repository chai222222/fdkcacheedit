{"version":3,"sources":["../../src/usecases/FixTitle.js"],"names":["toFirstCharHarfWidthFunc","s","String","fromCharCode","charCodeAt","toHarfWidthAlnumDotFunc","replace","FixTitle","title","zaico","changeTitle","Base"],"mappings":";;;;;;;;AAAA;;;;;;;;;;;;AAEA;AACA,IAAMA,2BAA2B,SAA3BA,wBAA2B,CAACC,CAAD;AAAA,SAAOC,OAAOC,YAAP,CAAoBF,EAAEG,UAAF,CAAa,CAAb,IAAkB,MAAtC,CAAP;AAAA,CAAjC;AACA;AACA,IAAMC,0BAA0B,SAA1BA,uBAA0B,CAACJ,CAAD;AAAA,SAAOA,EAAEK,OAAF,CAAU,eAAV,EAA2BN,wBAA3B,CAAP;AAAA,CAAhC;;IAEqBO,Q;;;;;;;;;;;kCAEL;AACZ;AAOD;;;gCAEWC,K,EAAO;AACjB,aAAOA,MAAMF,OAAN,CAAc,iCAAd,EAAiD,EAAjD,EAAqD;AAArD,OACJA,OADI,CACI,8BADJ,EACoCD,uBADpC,EAC6D;AAD7D,OAEJC,OAFI,CAEI,qBAFJ,EAE2B,IAF3B,CAAP;AAGD;;;6BAEQG,K,EAAO;AACd;AACA,UAAMD,QAAQ,KAAKE,WAAL,CAAiBD,MAAMD,KAAvB,CAAd;AACA,aAAOA,UAAUC,MAAMD,KAAvB;AACD;;;4BAEOC,K,EAAO;AACbA,YAAMD,KAAN,GAAc,KAAKE,WAAL,CAAiBD,MAAMD,KAAvB,CAAd,CADa,CACgC;AAC7C,aAAOC,KAAP;AACD;;;;EA3BmCE,c;;kBAAjBJ,Q","file":"FixTitle.js","sourcesContent":["import Base from './Base';\n\n// 先頭１文字を半角にする(全角英数字記号が前提)\nconst toFirstCharHarfWidthFunc = (s) => String.fromCharCode(s.charCodeAt(0) - 0xFEE0);\n// 文字列中の全角英数字ドットを半角にする\nconst toHarfWidthAlnumDotFunc = (s) => s.replace(/[０-９Ａ-Ｚａ-ｚ．]/g, toFirstCharHarfWidthFunc);\n\nexport default class FixTitle extends Base {\n\n  description() {\n    return `\\\n【FixTitle】\n★タイトルの一括補正を行う\n(1) 日付以外の先頭の 【～】を削除する\n(2) 末尾が、空白＋数値(全角半角) ＋ 英字(全角半角) or 英数字以外 の場合の英数字の半角化\n(3) 末尾が、半角内容量(数値(半角) ＋ 英字(半角) or 英数字以外)に、空白 + 半角内容量が続く場合に、半角内容量１つに加工\n`;\n  }\n\n  changeTitle(title) {\n    return title.replace(/^【(?!\\d{4}\\/\\d{2}\\/\\d{2})[^】]*】/, '') // (1) の対応\n      .replace(/\\s+[0-9０-９]+[A-Za-zＡ-Ｚａ-ｚ]+$/, toHarfWidthAlnumDotFunc) // (2)\n      .replace(/([0-9]+[^0-9]+) \\1$/, '$1');\n  }\n\n  isTarget(zaico) {\n    // タイトル\n    const title = this.changeTitle(zaico.title);\n    return title !== zaico.title;\n  }\n\n  editOne(zaico) {\n    zaico.title = this.changeTitle(zaico.title); // (1)\n    return zaico;\n  }\n}\n"]}